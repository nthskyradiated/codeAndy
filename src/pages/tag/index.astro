---
import { getCollection } from "astro:content";
import BlogLayout from "../../layouts/BlogLayout.astro";
import RandomEmoji from "../../components/RandomEmoji.astro"
import '../../styles/style.scss'
import type { Post } from "../../content/config";
const allPosts = await getCollection("posts");
const tags = [...new Set(allPosts.map((post: Post) => post.data.tags).flat())];
const pageTitle = "Debug the Mind | Tag Index";
---
<BlogLayout title={pageTitle}>
    <h1> Sorted By Tags</h1>
    <ul>
        {tags.map((tag) => <li><a data-theme='' href={`/tag/${tag}`}>{tag}</a><RandomEmoji /></li>)}
        
    </ul>
    </aside>
</BlogLayout>

  <style lang='scss'>
    @use '../../styles/variables' as *;
    @use '../../styles/mixins' as *;
        li {
          list-style: none;
          text-align: left;
          line-height: 2em;
        }
    
      a, a:visited{
        text-decoration: none;
		    color: $secondary-light;
        font-size: large;
        &:hover {
            opacity: .65;
        }
        }
        h1 {
        color: $secondary-light;
        line-height: 2.5rem;
        padding-bottom: 32px;
        }

        html[data-theme='light'] h1{
         color: $secondary-dark;
        
        } 
        a[data-theme='light'], a:visited[data-theme-='light'] {
          text-decoration: none;
          color: $theme-blue-1;
          font-size: large;}
          @include hover-light($secondary-light, $theme-blue-2);
         
        html[data-theme='dark'] h1{
         color: $secondary-light;
        
        } 
        a[data-theme='dark'], a:visited[data-theme-='dark'] {
          color: $secondary-light;
          @include hover-light($secondary-light, $theme-blue-3,);
         }
  </style>

